(this.webpackJsonpgitproject=this.webpackJsonpgitproject||[]).push([[0],{46:function(e,t,n){e.exports=n(60)},51:function(e,t,n){},57:function(e,t,n){e.exports={checkBoxStyle:"Auth_checkBoxStyle__3h2Vo"}},60:function(e,t,n){"use strict";n.r(t);var r=n(1),o=n.n(r),a=n(19),c=n.n(a),i=(n(51),n(15)),u=n(14),l=n(62),s=(JSON.parse(localStorage.getItem("user")),{user:{},loggedIn:!1,repList:"myreps"});var d=Object(u.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":return{user:t.user,loggedIn:!0};case"LOGOUT":var n=new l.a(JSON.parse(localStorage.getItem("currentUser")));return localStorage.removeItem("currentUser"),n.next(null),{user:{},loggedIn:!1};default:return e}}),s,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),p=function(){var e=new l.a(JSON.parse(localStorage.getItem("currentUser"))),t={method:"POST",headers:{"Content-Type":"application/json"}};new Promise((function(e,n){setTimeout((function(){return e(t)}),1e3)})).then((function(t){return localStorage.setItem("currentUser",JSON.stringify(t)),e.next(t),console.log("in Local storage: ",localStorage.getItem("currentUser")),t}))},g={type:"LOGOUT"},f=d,m=n(22),b=(n(57),n(30)),h=n(31),O=n(39),v=n(32),y=n(41),E=n(11),w=n(25),S=n.n(w),j=n(63);function x(){var e=Object(E.a)(["\n  mutation($id: ID!) {\n    addStar(input: { starrableId: $id }) {\n      starrable {\n        id\n        viewerHasStarred\n      }\n    }\n  }\n"]);return x=function(){return e},e}function I(){var e=Object(E.a)(['\n  {\n    organization(login: "the-road-to-learn-react") {\n      repositories(first: 20) {\n        edges {\n          node {\n            id\n            name\n            url\n            viewerHasStarred\n          }\n        }\n      }\n    }\n  }\n']);return I=function(){return e},e}var _=S()(I()),N=S()(x()),R=function(e){function t(){var e,n;Object(b.a)(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(n=Object(O.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(o)))).state={selectedRepositoryIds:[]},n.toggleSelectRepository=function(e,t){var r=n.state.selectedRepositoryIds;r=t?r.filter((function(t){return t!==e})):r.concat(e),n.setState({selectedRepositoryIds:r})},n}return Object(y.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return o.a.createElement(T,{repositories:this.props.repositories,selectedRepositoryIds:this.state.selectedRepositoryIds,toggleSelectRepository:this.toggleSelectRepository})}}]),t}(o.a.Component),T=function(e){var t=e.repositories,n=e.selectedRepositoryIds,r=e.toggleSelectRepository;return o.a.createElement("ul",null,t.edges.map((function(e){var t=e.node,a=n.includes(t.id),c=["row"];return a&&c.push("row_selected"),o.a.createElement("li",{className:c.join(" "),key:t.id},o.a.createElement(k,{id:t.id,isSelected:a,toggleSelectRepository:r})," ",o.a.createElement("a",{href:t.url},t.name)," ",!t.viewerHasStarred&&o.a.createElement(U,{id:t.id}))})))},U=function(e){var t=e.id;return o.a.createElement(j.a,{mutation:N,variables:{id:t}},(function(e){return o.a.createElement("button",{type:"button",onClick:e},"Star")}))},k=function(e){var t=e.id,n=e.isSelected,r=e.toggleSelectRepository;return o.a.createElement("button",{type:"button",onClick:function(){return r(t,n)}},n?"Unselect":"Select")},D=function(){return o.a.createElement(j.b,{query:_},(function(e){var t=e.data;return e.loading?o.a.createElement("div",null,"Loading ..."):o.a.createElement(R,{repositories:t.organization.repositories})}))},L=n(16);function C(){var e=Object(E.a)(["\n    margin-top: 100px;\n    display: flex;\n    \n    flex-direction: column;\n    width: 337px;\n    height: 278px;\n    border: 1px solid #E0E0E0;\n    box-sizing: border-box;\n    border-radius: 18px;"]);return C=function(){return e},e}function P(){var e=Object(E.a)(["\n    width: 300px;\n    height: 15%;\n    margin: 10px 10px;\n    border: 1px solid #ccc;\n    box-sizing: border-box;\n    border-radius: 10px;"]);return P=function(){return e},e}function J(){var e=Object(E.a)(["\n    text-transform: uppercase;\n    width: 592px;\n    font-family: Roboto serif;\n    font-style: normal;\n    font-weight: 200;\n    font-size: 48px;\n    text-align: center;\n\n    color: #333333;"]);return J=function(){return e},e}function X(){var e=Object(E.a)(["\n    width: 300px;\n    height: 25px;\n    margin: 10px 10px;\n    display: flex;\n    border: 1px solid #ccc;\n    box-sizing: border-box;\n    border-radius: 10px;\n    background-color: cornflowerblue;\n    justify-content: center;\n    color: white;\n"]);return X=function(){return e},e}function z(){var e=Object(E.a)(["\ndisplay: flex;\n    justify-content: center;\n    align-items: center;\n    min-height: 100%;\n    flex-direction: column;\n    "]);return z=function(){return e},e}L.a.div(z());var B=L.a.button(X()),V=L.a.h1(J()),q=L.a.input(P()),M=L.a.div(C()),G=function(e){e.stats;var t=Object(r.useState)(""),n=Object(m.a)(t,2),a=n[0],c=n[1],i=Object(r.useState)(!1),u=Object(m.a)(i,2),l=(u[0],u[1],Object(r.useState)("")),s=Object(m.a)(l,2),d=s[0],p=s[1],g=localStorage.getItem("currentUser");return console.log("cur user",g),g?o.a.createElement("div",null,o.a.createElement(D,null),o.a.createElement(B,{type:"ghost",onClick:function(){localStorage.removeItem("currentUser"),window.location.reload(!0)}},"Log out")):o.a.createElement("div",null,o.a.createElement(V,null,"Log in page"),o.a.createElement(M,null,o.a.createElement("div",null,o.a.createElement(q,{value:a,onChange:function(e){return c(e.target.value)},name:"login",required:!0,placeholder:"Username"}),o.a.createElement(q,{name:"password",type:"password",required:!0,placeholder:"Password",onChange:function(e){return p(e.target.value)},value:d}),o.a.createElement(B,{type:"primary",onClick:function(){var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({login:a,password:d})};return new Promise((function(t,n){setTimeout((function(){return t(e)}),1e3)})).then((function(e){return localStorage.setItem("currentUser",JSON.stringify(e)),console.log("in Local storage: ",localStorage.getItem("currentUser")),c(),p(),e}))}},"Log in"))))},H=Object(i.b)((function(e){return{authentication:e}}),(function(e){return{logIn:function(){return e(p)},logout:function(){return e(g)}}}))(G),$=n(37);function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(n,!0).forEach((function(t){Object($.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var F={counter:0};Object(u.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F;switch((arguments.length>1?arguments[1]:void 0).type){case"INCREMENT":return W({},e,{counter:e.counter+1});case"DECREMENT":return W({},e,{counter:e.counter-1});default:return e}}),F,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());var K={type:"DECREMENT"},Q={type:"INCREMENT"};function Y(){localStorage.removeItem("currentUser"),window.location.reload(!0)}var Z=function(){return o.a.createElement("flex",{className:"mainy"},o.a.createElement(B,{type:"ghost",onClick:Y},"Log out"))};Object(i.b)((function(e){return{counter:e.counter}}),(function(e){return{increment:function(){return e(Q)},decrement:function(){return e(K)}}}))(Z),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ee=n(5),te=n(12),ne=n(40),re=new(n(38).a),oe=new ne.a({uri:"https://api.github.com/graphql",headers:{authorization:"Bearer ".concat("ff8dad70d026640be5e85d2fc669d3c0d68cf15f")}}),ae=document.getElementById("root"),ce=new te.a({link:oe,cache:re});c.a.render(o.a.createElement(i.a,{store:f},o.a.createElement(ee.a,{client:ce},o.a.createElement(H,null))),ae),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[46,1,2]]]);
//# sourceMappingURL=main.f1180d94.chunk.js.map