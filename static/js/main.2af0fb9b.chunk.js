(this.webpackJsonpgitproject=this.webpackJsonpgitproject||[]).push([[0],{102:function(e,n,t){e.exports=t(137)},107:function(e,n,t){},137:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),i=t(10),o=t.n(i),l=(t(107),t(63)),c=t(70),u=t(40),s={counter:0};Object(u.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;switch((arguments.length>1?arguments[1]:void 0).type){case"INCREMENT":return Object(c.a)({},e,{counter:e.counter+1});case"DECREMENT":return Object(c.a)({},e,{counter:e.counter-1});default:return e}}),s,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());var m={type:"DECREMENT"},d={type:"INCREMENT"},v=t(44),p=t(24),g=t(182),E=t(177),f=t(173),b=t(175),h=t(176),w=t(77),y=Object(w.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),O=function(e){e.stats;var n=Object(a.useState)(""),t=Object(v.a)(n,2),i=t[0],o=t[1],l=Object(a.useState)(localStorage.getItem("token")),c=Object(v.a)(l,2),u=c[0],s=c[1],m=y();return u?r.a.createElement(p.a,{to:"/"}):r.a.createElement("div",null,r.a.createElement(f.a,{component:"main",maxWidth:"xs"},r.a.createElement(b.a,null),r.a.createElement("div",{className:m.paper},r.a.createElement(h.a,{component:"h1",variant:"h5"},"Sign in"),r.a.createElement(g.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Your personal GitHub token",type:"password",id:"password",autoComplete:"current-password",value:i,onChange:function(e){return o(e.target.value)}}),r.a.createElement(E.a,{type:"button",fullWidth:!0,variant:"contained",color:"primary",className:m.submit,onClick:function(){localStorage.setItem("token",i),o(),s(localStorage.getItem("token")),window.location.reload(!0)}},"Sign In"))))},I=t(46),S=t(80),x=t(81),N=t(90),j=t(82),k=t(93),_=t(15),C=t(22),R=t.n(C),U=t(37),$=t(58),q=t.n($);function T(){var e=Object(_.a)(["\n  mutation($id: ID!) {\n    addStar(input: { starrableId: $id }) {\n      starrable {\n        id\n        viewerHasStarred\n      }\n    }\n  }\n"]);return T=function(){return e},e}var D=R()(T()),L=function(e){var n=e.id;return r.a.createElement(U.a,{mutation:D,variables:{id:n}},(function(e){return r.a.createElement(q.a,{onClick:e,className:"hover"},"star")}))};function z(){var e=Object(_.a)(["\nmutation RemoveStar($id:ID!){\n   removeStar(input:{starrableId:$id}){\n    starrable{\n      id\n      viewerHasStarred\n    }\n  }\n}"]);return z=function(){return e},e}var H=R()(z()),P=function(e){var n=e.id;return r.a.createElement(U.a,{mutation:H,variables:{id:n}},(function(e){return r.a.createElement(q.a,{color:"secondary",onClick:e,className:"hover"},"removestar")}))},V=t(61),X=t.n(V),F=t(62),A=t.n(F),B=(t(39),t(85)),G=function(){var e=Object(p.g)().loading;return r.a.createElement("div",{style:{textAlign:"center",padding:"15px"}},r.a.createElement(B.ClipLoader,{sizeUnit:"px",size:50,color:"#123abc",loading:e}))};function M(){var e=Object(_.a)(["\n  query Reps($quer: String!) {\n    search(query: $quer, type: REPOSITORY, first: 10) {\n      edges {\n        node {\n          ... on Repository {\n            id\n            name\n            viewerHasStarred\n            url\n            isPrivate\n            isArchived\n            owner {\n            login\n            avatarUrl\n          }\n          }\n        }\n      }\n    }\n  }\n"]);return M=function(){return e},e}var W=R()(M()),J=function(e){function n(){var e,t;Object(S.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(t=Object(N.a)(this,(e=Object(j.a)(n)).call.apply(e,[this].concat(r)))).state={selectedRepositoryIds:[]},t}return Object(k.a)(n,e),Object(x.a)(n,[{key:"render",value:function(){return r.a.createElement(Y,{login:this.props.login,repositories:this.props.repositories,selectedRepositoryIds:this.state.selectedRepositoryIds})}}]),n}(r.a.Component),Y=function(e){var n=e.login,t=e.repositories,a=e.selectedRepositoryIds;return r.a.createElement("ul",null,t.edges.map((function(e){var t=e.node;return a.includes(t.id)&&["row"].push("row_selected"),n="undefined"!=typeof t.owner?t.owner.login:n,r.a.createElement("div",{className:"RepositoryItem",key:t.id},t.isPrivate&&r.a.createElement(X.a,null),!t.isPrivate&&r.a.createElement(A.a,null),r.a.createElement("a",{href:n+"/repository/"+t.name},t.name),!t.viewerHasStarred&&r.a.createElement(L,{className:"hover",id:t.id}),t.viewerHasStarred&&r.a.createElement(P,{id:t.id}))})))},K=function(e){var n=e.quer;return r.a.createElement(U.b,{query:W,variables:{quer:n}},(function(e){var n=e.data,t=e.loading;return t?r.a.createElement(G,{variables:{loading:t}}):n?r.a.createElement("div",null,r.a.createElement(J,{repositories:n.search})):r.a.createElement("p",null,"Nothing was found")}))};function Q(){var e=Object(_.a)(["\nquery User($login:String!){\n    user(login: $login) {\n        login\n        name\n        avatarUrl\n        bio\n        email  } \n        }\n        "]);return Q=function(){return e},e}var Z=R()(Q()),ee=function(e){var n=e.login;return r.a.createElement(U.b,{query:Z,variables:{login:n}},(function(e){var n=e.data,t=e.loading;return t?r.a.createElement(G,{variables:{loading:t}}):n?r.a.createElement(ne,{data:n}):r.a.createElement("p",null,"Nothing was found")}))},ne=function(e){var n=e.data;return r.a.createElement("div",{className:"card"},r.a.createElement("img",{src:n.user.avatarUrl,alt:"avatar",width:"100%"}),r.a.createElement("h1",null,r.a.createElement("a",{href:n.user.login},n.user.login)),r.a.createElement("p",{className:"login"}," ",n.user.name))};var te=function(){var e=r.a.useState(""),n=Object(v.a)(e,2),t=n[0],i=n[1],o=Object(a.useState)(!0),l=Object(v.a)(o,2),c=l[0],u=l[1];return r.a.createElement("div",null,r.a.createElement("div",{className:"Search"},r.a.createElement("button",{className:"button",onClick:function(){return u(!c)}}," ",c?"By users":"By repositories"," "),r.a.createElement("input",{type:"text",className:"searchTerm",placeholder:"Search",value:t,onChange:function(e){i(e.target.value)}}),r.a.createElement("div",{className:"App"},c?r.a.createElement(ee,{login:t}):r.a.createElement(K,{quer:t}))))};function ae(){return localStorage.getItem("token")?r.a.createElement("div",null,r.a.createElement("div",{className:"wrap"},r.a.createElement("div",{className:"search"},r.a.createElement(te,{class:"searchTerm"})))):r.a.createElement(p.a,{to:"/auth"})}var re=t(178);function ie(){var e=Object(_.a)(["\nmutation($id:ID!){\n   unfollowUser(input: {userId:$id} ) {\n        user{\n            id\n            viewerIsFollowing\n        }\n  }\n}"]);return ie=function(){return e},e}function oe(){var e=Object(_.a)(["\nmutation($id:ID!){\n   followUser(input: {userId:$id} ) {\n        user{\n            id\n            viewerIsFollowing\n        }\n  }\n}"]);return oe=function(){return e},e}var le=R()(oe()),ce=R()(ie()),ue=function(e){var n=e.id;return r.a.createElement(U.a,{mutation:le,variables:{id:n}},(function(e){return r.a.createElement(E.a,{color:"default",onClick:e},"Follow")}))},se=function(e){var n=e.id;return r.a.createElement(U.a,{mutation:ce,variables:{id:n}},(function(e){return r.a.createElement(E.a,{color:"primary",onClick:e},"Unfollow")}))};function me(){var e=Object(_.a)(["\nquery Userrepositories($login:String!){\n  user(login: $login) {\n    id\n    isViewer\n    viewerIsFollowing\n    avatarUrl\n    bio\n    email\n    login\n    name\n    repositories(first: 10) {\n      edges {\n        node {\n          id\n          name\n          stargazers {\n            totalCount\n          }\n          viewerHasStarred\n          isPrivate\n        }\n      }\n    }\n  }\n}\n"]);return me=function(){return e},e}function de(){var e=Object(_.a)(["\nquery Myrepositories($first:Int!){\n    viewer {\n        id\n        isViewer\n        viewerIsFollowing\n        name\n        login\n        avatarUrl\n        bio\n        email   \n        repositories(first: $first) {\n            edges {\n                node {\n                    id\n                    name\n                    stargazers{\n                        totalCount\n                    }\n                    viewerHasStarred\n                    isPrivate\n                }\n            }\n        }\n    }\n}\n"]);return de=function(){return e},e}var ve=R()(de());function pe(e){var n=e.data;return r.a.createElement("div",null,r.a.createElement(re.a,{container:!0,spacing:0,justify:"center"},r.a.createElement(re.a,{item:!0,xs:3},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"UserCard"},r.a.createElement("img",{src:n.avatarUrl,alt:"avatar",width:"100%"}),r.a.createElement("h1",null," ",n.name),r.a.createElement("p",{className:"login"}," ",n.login),r.a.createElement("p",null," ",n.email),r.a.createElement("p",null," ",n.bio),!n.isViewer&&!n.viewerIsFollowing&&r.a.createElement(ue,{id:n.id}),!n.isViewer&&n.viewerIsFollowing&&r.a.createElement(se,{id:n.id})))),r.a.createElement(re.a,{item:!0,xs:4},r.a.createElement("h2",null,"Repositories"),r.a.createElement(J,{repositories:n.repositories,login:n.login}))))}var ge=R()(me());function Ee(){var e=Object(p.g)().login;return r.a.createElement(U.b,{query:ge,variables:{login:e}},(function(e){var n=e.data,t=e.loading;return t?r.a.createElement(G,{variables:{loading:t}}):r.a.createElement(pe,{data:null===n||void 0===n?void 0:n.user})}))}var fe=function(){return r.a.createElement(U.b,{query:ve,variables:{first:10}},(function(e){var n=e.data,t=e.loading;return t?r.a.createElement(G,{variables:{loading:t}}):r.a.createElement(pe,{data:n.viewer})}))},be=t(86),he=t.n(be);function we(){var e=Object(_.a)(["\n  query Repos($name: String!, $login: String!) {\n    repository(owner:$login, name: $name) {\n            id\n            url\n            viewerHasStarred\n            isPrivate\n            isArchived\n            primaryLanguage {\n                name\n            }\n            stargazers {\n                totalCount\n            }\n            description\n            owner {\n                login\n                avatarUrl\n            }\n        }\n  }\n"]);return we=function(){return e},e}var ye=R()(we());function Oe(e){var n=e.data;return r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"RepositoryCard"},r.a.createElement("p",{className:"login"}," ",n.repository.owner.login),n.repository.isPrivate&&r.a.createElement(X.a,null),!n.repository.isPrivate&&r.a.createElement(A.a,null),n.repository.isArchived&&r.a.createElement(he.a,null),r.a.createElement("p",null,r.a.createElement("a",{href:n.repository.url}," Link on GitHub")),r.a.createElement("p",{className:"login"}," ",n.repository.stargazers.totalCount," stars"),r.a.createElement("p",null," Language:",n.repository.primaryLanguage&&n.repository.primaryLanguage.name),n.repository.description))}var Ie=function(){var e=Object(p.g)(),n=e.login,t=e.name;return r.a.createElement(U.b,{query:ye,variables:{login:n,name:t}},(function(e){var n=e.data,t=e.loading;return t?r.a.createElement(G,{variables:{loading:t}}):n?r.a.createElement(Oe,{data:n}):r.a.createElement("p",null,"Nothing was found")}))};var Se=function(){var e=localStorage.getItem("token");return r.a.createElement(I.a,null,r.a.createElement(p.d,null,e&&r.a.createElement(p.b,{path:"/myprofile",component:fe}),r.a.createElement(p.b,{exact:!0,path:"/auth",component:O}),e&&r.a.createElement(p.b,{path:"/:login/repository/:name",component:Ie}),e&&r.a.createElement(p.b,{path:"/:login/",component:Ee}),e&&r.a.createElement(p.b,{exact:!0,path:"/",component:ae}),r.a.createElement(p.a,{to:"/auth"})))};var xe=function(){return r.a.createElement(Se,null)},Ne=Object(l.b)((function(e){return{counter:e.counter}}),(function(e){return{increment:function(){return e(d)},decrement:function(){return e(m)}}}))(xe);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var je={user:{},loggedIn:!1,repList:"myreps"};var ke=Object(u.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"LOGIN":return{user:n.user,loggedIn:!0};case"LOGOUT":var t=localStorage.getItem("currentUser");return localStorage.removeItem("currentUser"),t.next(null),{user:{},loggedIn:!1};default:return e}}),je,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),_e=t(14),Ce=t(35),Re=t(91),Ue=t(89),$e=t(179),qe=t(180),Te=t(181),De=t(51);function Le(){var e=Object(_.a)(["\n    margin-top: 100px;\n    justify-content: center;\n    width: 337px;\n    height: 278px;\n    border: 1px solid #E0E0E0;\n    box-sizing: border-box;\n    border-radius: 18px;"]);return Le=function(){return e},e}function ze(){var e=Object(_.a)(["\n    width: 300px;\n    height: 15%;\n    margin: 10px 10px;\n    border: 1px solid #ccc;\n    box-sizing: border-box;\n    border-radius: 10px;"]);return ze=function(){return e},e}function He(){var e=Object(_.a)(["\n    text-transform: uppercase;\n    text-align:center;\n    width: 592px;\n    font-family: Roboto serif;\n    font-style: normal;\n    font-weight: 200;\n    font-size: 48px;\n\n    color: #333333;"]);return He=function(){return e},e}function Pe(){var e=Object(_.a)(["\n    width: 100px;\n    height: 25px;\n    margin: 10px 10px;\n    border: 1px solid #ccc;\n    box-sizing: border-box;\n    border-radius: 10px;\n    background-color: cornflowerblue;\n    color: white;\n"]);return Pe=function(){return e},e}var Ve=De.a.button(Pe()),Xe=(De.a.h1(He()),De.a.input(ze()),De.a.div(Le()),t(183));var Fe=new Ue.a,Ae=new Re.a({uri:"https://api.github.com/graphql",headers:{authorization:"Bearer ".concat(localStorage.getItem("token"))}}),Be=document.getElementById("root"),Ge=new Ce.a({link:Ae,cache:Fe});o.a.render(r.a.createElement(l.a,{store:ke},r.a.createElement(_e.a,{client:Ge},r.a.createElement((function(){var e=localStorage.getItem("token");return r.a.createElement($e.a,{position:"static"},r.a.createElement(qe.a,null,r.a.createElement(h.a,{variant:"h6"},r.a.createElement("a",{href:"/"},"GitHub Client")),r.a.createElement("div",null,r.a.createElement(Te.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",color:"inherit"},r.a.createElement("a",{href:"/myprofile"},r.a.createElement(Xe.a,null)))),e&&r.a.createElement(Ve,{onClick:function(){return localStorage.removeItem("token"),window.location.reload(!0),r.a.createElement(p.a,{to:"/auth"})}},"Log out")))}),null),r.a.createElement(Ne,null))),Be),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},39:function(e,n,t){}},[[102,1,2]]]);
//# sourceMappingURL=main.2af0fb9b.chunk.js.map